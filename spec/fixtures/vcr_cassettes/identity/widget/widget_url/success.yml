---
http_interactions:
- request:
    method: get
    uri: https://sandbox.id.nexaas.com/api/v1/widgets/user.js?access_token=6cf4f0b92293cdef5291b1d3f6509996e0caf5b4c0ad01a88c7cec48a2c6daba&callback=initWidget
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.12.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 401
      message: Unauthorized
    headers:
      Server:
      - Cowboy
      Date:
      - Tue, 30 Oct 2018 18:40:37 GMT
      Connection:
      - keep-alive
      Content-Type:
      - text/html; charset=utf-8
      Cache-Control:
      - no-cache
      X-Request-Id:
      - b87ae596-e08f-4df0-9890-b33237f89103
      X-Runtime:
      - '0.159773'
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Via:
      - 1.1 vegur
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        PCFET0NUWVBFIGh0bWw+CjxodG1sIGhvbGFfZXh0X2luamVjdD0iZGlzYWJsZWQiIHN0eWxlPSJoZWlnaHQ6IDEwMCUiPgo8aGVhZD4KICA8dGl0bGU+UGFzc3BvcnRlV2ViPC90aXRsZT4KICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MSI+CiAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogIDxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9ZWRnZSI+CiAgPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iNTd4NTciIGhyZWY9Imh0dHA6Ly9kY3A5M2U0ZG9pYjFyLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTU3eDU3LTdmYzc3MDBiYmI3Yjg5MzE5YTBlYjhiY2Q5OWE2MGQ2Yzg0MGNlYmU1NzU4MjdiNWUxMzViZWQ2ZTczOGI0MjMucG5nIj4KPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iNjB4NjAiIGhyZWY9Imh0dHA6Ly9kY3A5M2U0ZG9pYjFyLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTYweDYwLWUzMDlhMWUwZTFhMWY4OTg2OGMzOWM2Y2NmNGUxOTQ0OWI4NGUyNDY2Y2ZmMzRjZjZhM2E1NjQ4ODJlNjQ0MGIucG5nIj4KPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iNzJ4NzIiIGhyZWY9Imh0dHA6Ly9kY3A5M2U0ZG9pYjFyLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTcyeDcyLTkwOTU4YTg0YTlkZTU2MjhlZWNjN2UwZjc5MDM0ZGIyZGU3ZjQ5NDhlNWI2MzljYzgzOTRlMjhmMWQ0Y2M5MTYucG5nIj4KPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iNzZ4NzYiIGhyZWY9Imh0dHA6Ly9kY3A5M2U0ZG9pYjFyLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTc2eDc2LTRmMjUwZDkzYTgyZmZiNDY3MGQ5NzMyZWU4YmVkYmMxODRlYmVkYjNhNjlhZTRhNGFhNGM0ZmZhMTI1YjExYTMucG5nIj4KPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iMTE0eDExNCIgaHJlZj0iaHR0cDovL2RjcDkzZTRkb2liMXIuY2xvdWRmcm9udC5uZXQvYXNzZXRzL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTE0eDExNC1hZWJlNTc1YWM4MjVkYjVmOWI2MWYxYzk2YzIzYTFkMzNjYzBhNmQ0ZTY1ZmI0ODAxYjU0MDc5OGI1NWJmYTliLnBuZyI+CjxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgc2l6ZXM9IjEyMHgxMjAiIGhyZWY9Imh0dHA6Ly9kY3A5M2U0ZG9pYjFyLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTEyMHgxMjAtYTU1YzliNzQzYjViZWM1NjgwZmI2MWZhMTYyNWFiNzg2Yjc5ZWJlMDExYmVmY2M5Y2ExZjEwMDBmMmU0NDNmZi5wbmciPgo8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24iIHNpemVzPSIxNDR4MTQ0IiBocmVmPSJodHRwOi8vZGNwOTNlNGRvaWIxci5jbG91ZGZyb250Lm5ldC9hc3NldHMvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xNDR4MTQ0LTQ5NzZhZTY2NTJjODkwODRkMmY4OGM2OTAzNjdjYjRiYzEzMzE3MzJhOWE0NTNiMjMxZjQxMTUxMjUyZThmM2UucG5nIj4KPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uIiBzaXplcz0iMTUyeDE1MiIgaHJlZj0iaHR0cDovL2RjcDkzZTRkb2liMXIuY2xvdWRmcm9udC5uZXQvYXNzZXRzL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTUyeDE1Mi03OTJmM2Q4ZjU1YmExODA1NDdhYWNjOTFiMmUxNWVjM2Q0ZjA3MDAyNmQ3NTY4ZDQxZmMxZThkNDZkNjA2NjY5LnBuZyI+CjxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbiIgc2l6ZXM9IjE4MHgxODAiIGhyZWY9Imh0dHA6Ly9kY3A5M2U0ZG9pYjFyLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE4MHgxODAtNWZkOTliNjg3MGY4ZTIzYjAxODQ4YzcwN2E5ZTc3OGIzYzZiODNkYTE0NmQyYTlhODNhZjBlOTAxMmE4ZmVkNC5wbmciPgo8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3BuZyIgc2l6ZXM9IjMyeDMyIiBocmVmPSJodHRwOi8vZGNwOTNlNGRvaWIxci5jbG91ZGZyb250Lm5ldC9hc3NldHMvZmF2aWNvbnMvZmF2aWNvbi0zMngzMi1lZTgzZjYzN2M1ZmM3NmQyY2RlOTE0ZTU3YWEzYTM2NWUyNDY5Y2EwYTBiNGYwYjNjMGI2ZGIzYmNiN2E4MjdlLnBuZyI+CjxsaW5rIHJlbD0iaWNvbiIgdHlwZT0iaW1hZ2UvcG5nIiBzaXplcz0iMTk0eDE5NCIgaHJlZj0iaHR0cDovL2RjcDkzZTRkb2liMXIuY2xvdWRmcm9udC5uZXQvYXNzZXRzL2Zhdmljb25zL2Zhdmljb24tMTk0eDE5NC04ZTAzNDEyOGQxYTQ5ZDE2MzEyMzQ4M2ZhY2QxM2JiOWVmMmUyNDEzMmM1MzQ5MzA0NzM4YWQ5MWM0NjdlMWUzLnBuZyI+CjxsaW5rIHJlbD0iaWNvbiIgdHlwZT0iaW1hZ2UvcG5nIiBzaXplcz0iMTkyeDE5MiIgaHJlZj0iaHR0cDovL2RjcDkzZTRkb2liMXIuY2xvdWRmcm9udC5uZXQvYXNzZXRzL2Zhdmljb25zL2FuZHJvaWQtY2hyb21lLTE5MngxOTItZjdjMWJlYmM4YTNiYzRhMDVhM2U1NDBkMTZmOTI5YmUxOTU3ZGU5ZTI3ZDdiZGMyOGZmOGVkMzZlZjhmZjY3Zi5wbmciPgo8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3BuZyIgc2l6ZXM9IjE2eDE2IiBocmVmPSJodHRwOi8vZGNwOTNlNGRvaWIxci5jbG91ZGZyb250Lm5ldC9hc3NldHMvZmF2aWNvbnMvZmF2aWNvbi0xNngxNi03YmFkOGRkMWY0OGYwMTBjNWM0ODVlOTViYWE0ZDY4MTUyYjQyODU2OGQzODgwNmVmZmE5MDhlN2I4ZGY2ZTk3LnBuZyI+CjxsaW5rIHJlbD0ibWFuaWZlc3QiIGhyZWY9Imh0dHA6Ly9kY3A5M2U0ZG9pYjFyLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9mYXZpY29ucy9zaXRlLTUxZTE0NjY1ZjYzMDFjOWU4YzhiOGU3YzA1ZWIxMzk3ZGU1Y2Y1ZmU2ZDQwYjI5NjFkMmUyOTIzYzVhNjRkOGIud2VibWFuaWZlc3QiPgo8bGluayByZWw9Im1hc2staWNvbiIgaHJlZj0iaHR0cDovL2RjcDkzZTRkb2liMXIuY2xvdWRmcm9udC5uZXQvYXNzZXRzL2Zhdmljb25zL3NhZmFyaS1waW5uZWQtdGFiLWFmYzU5OGNkNDBkYWU4NjdjMjY2OGRkNzg1MDE3OTkwMmVhNDIxMzY2MmNlMWRmMzI4MTMwM2NlMTRjZjlkZmMuc3ZnIiBjb2xvcj0iI2ZmMDAwMCI+CjxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tVGlsZUNvbG9yIiBjb250ZW50PSIjMmEyZDNjIj4KPG1ldGEgbmFtZT0ibXNhcHBsaWNhdGlvbi1UaWxlSW1hZ2UiIGNvbnRlbnQ9Imh0dHA6Ly9kY3A5M2U0ZG9pYjFyLmNsb3VkZnJvbnQubmV0L2Fzc2V0cy9mYXZpY29ucy9tc3RpbGUtMTQ0eDE0NC1kNDllNjUxMmEyM2YxMzBjOTZiMWU5Y2RhOGQ2ZmM5ZDIwZWQ0Zjk4ZTE2NGU0YzcyYzM3NWNlZjUxYTEyMGJmLnBuZyI+CjxtZXRhIG5hbWU9InRoZW1lLWNvbG9yIiBjb250ZW50PSIjMmEyZDNjIj4KCiAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBtZWRpYT0iYWxsIiBocmVmPSJodHRwOi8vZGNwOTNlNGRvaWIxci5jbG91ZGZyb250Lm5ldC9hc3NldHMvYXBwbGljYXRpb24tNzNjMTgwNzg4YWQwNzZiMGVkNTYyOTdlNDEzMTU0NjYyNGNhMzc0MDE0NWZhYzI4NmMyMjhlZWRiNjY3ODIxOC5jc3MiIGRhdGEtdHVyYm9saW5rcy10cmFjaz0icmVsb2FkIiAvPgo8L2hlYWQ+Cgo8Ym9keSBjbGFzcz0iZXJyb3ItcGFnZSI+CiAgPGFydGljbGU+CiAgICA8aGVhZGVyPgogICAgICA8aW1nIGFsdD0iTmV4YWFzIElEIiB0aXRsZT0iTmV4YWFzIElEIiBjbGFzcz0ibG9nbyIgd2lkdGg9IjEyMyIgaGVpZ2h0PSIyMyIgc3JjPSJodHRwOi8vZGNwOTNlNGRvaWIxci5jbG91ZGZyb250Lm5ldC9hc3NldHMvbG9nby1uZXhhYXMtaWQtMTY4ZDJiYTFjNjE2YjJmMGFjZDhkMmRjNDE1MjgwZTM1YTczNmYxNzJlNDEwZDQ3ZGM0NDMwOTVlMmQ0NmFmNC5zdmciIC8+CiAgICA8L2hlYWRlcj4KICAgIDxzZWN0aW9uPgogICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIj4KICAgICAgICA8aDEgY2xhc3M9InVpIGhlYWRlciBsYXJnZSI+QWNlc3NvIG7Do28gYXV0b3JpemFkbyE8L2gxPgogICAgICAgIDxwPlZvY8OqIHByZWNpc2EgZXN0YXIgYXV0ZW50aWNhZG8gcGFyYSBhY2Vzc2FyIGVzdGEgcMOhZ2luYS48L3A+CiAgICAgICAgPGEgY2xhc3M9ImNhbGwtdG8tYWN0aW9uIiBocmVmPSIvc2lnbl9pbiI+UmVhbGl6YXIgbG9naW48L2E+CiAgICAgIDwvZGl2PgogICAgICA8aSBjbGFzcz0naWNvbiBiYW4gaHVnZSc+PC9pPgogICAgPC9zZWN0aW9uPgogIDwvYXJ0aWNsZT4KPC9ib2R5Pgo8L2h0bWw+Cg==
    http_version: 
  recorded_at: Tue, 30 Oct 2018 18:40:38 GMT
- request:
    method: get
    uri: https://sandbox.id.nexaas.com/api/v1/widgets/user.js?access_token=55fe5e610e2dd0e198da8c912101c9de4f3382e3ccb058b17e13dfda8c738f8a&callback=initWidget
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.12.2
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Cowboy
      Date:
      - Tue, 30 Oct 2018 18:41:41 GMT
      Connection:
      - keep-alive
      Content-Type:
      - text/javascript; charset=utf-8
      Etag:
      - W/"aa81f1484b02858467f512d788618399"
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3522bb79-9f11-405d-914d-b93d3396278c
      X-Runtime:
      - '0.241493'
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      Via:
      - 1.1 vegur
    body:
      encoding: UTF-8
      string: |
        var NexaasID = {
          createUserWidget(container) {
            var html = '<div style="position: relative; width: 36px; height: 36px; font-family: Roboto, sans-serif; font-size: 14px; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; color: #47494C; transition: all .3s;"> <button id="nexaas_id-dropdown-button" type="button" style="display: flex; padding: 0; align-items: center; background: none; border: none; outline: 0; box-shadow: none; cursor: pointer;"> <img style="width: 36px; height: 36px; border-radius: 100%;" src="https://sandbox.id.nexaas.com/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6TnpsbE1EWmpOaTA1WldRekxUUXhNMlV0T0RJMU1pMDVOelF6TW1GbU16TXhNallHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--7a402c14ed023a568bbc01c301436d0b46521345/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTVRRd2VERTBNQVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--b7c6c56ddca6c1f35a16553c3b17a292f1ded451/1_lAR9Uh_gJ7dp23e0vhy5Hg.png" width="20" height="20" /> </button> <div style="display: none; width: 330px; position: absolute; top: calc(100% + .625em); left: auto; right: 0; font-weight: 400; background-color: #fff; box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2); border-radius: 3px; z-index: 1; animation: fadeIn .3s;"> <div style="position: relative; display: flex; align-items: center; margin: 20px 0; color: #47494C;"> <img style="width: 54px; height: 54px; margin-left: 20px; margin-right: 10px; text-align: center; color: inherit; border-radius: 100%;" src="https://sandbox.id.nexaas.com/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJaWt6TnpsbE1EWmpOaTA1WldRekxUUXhNMlV0T0RJMU1pMDVOelF6TW1GbU16TXhNallHT2daRlZBPT0iLCJleHAiOm51bGwsInB1ciI6ImJsb2JfaWQifX0=--7a402c14ed023a568bbc01c301436d0b46521345/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9MY21WemFYcGxTU0lNTVRRd2VERTBNQVk2QmtWVSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--b7c6c56ddca6c1f35a16553c3b17a292f1ded451/1_lAR9Uh_gJ7dp23e0vhy5Hg.png" width="20" height="20" /> <div style="padding-right: 20px; overflow-x: hidden;"> <strong style="margin: 0; padding: 0; display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">PassaporteWeb API Test</strong> <span style="margin: 0; padding: 0; display: block; font-size: 0.95em; color: #777A7F; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">luiz.buiatte+pw.api.test@nexaas.com</span> </div> </div> <div style="position: relative; margin: 20px 0;"> <a href="https://sandbox.id.nexaas.com/profile" target="_blank" style="display: flex; align-items: center; color: #47494C; text-decoration: none;"> <span style="width: 54px; height: 16px; margin-left: 20px; margin-right: 10px; text-align: center; color: inherit"> <svg width="14.08px" height="16px" viewBox="0 0 448 512"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="user-light" fill="#47494C" fill-rule="nonzero"> <path d="M313.6,288 C284.9,288 271.1,304 224,304 C176.9,304 163.2,288 134.4,288 C60.2,288 0,348.2 0,422.4 L0,464 C0,490.5 21.5,512 48,512 L400,512 C426.5,512 448,490.5 448,464 L448,422.4 C448,348.2 387.8,288 313.6,288 Z M416,464 C416,472.8 408.8,480 400,480 L48,480 C39.2,480 32,472.8 32,464 L32,422.4 C32,365.9 77.9,320 134.4,320 C154,320 173.5,336 224,336 C274.4,336 294,320 313.6,320 C370.1,320 416,365.9 416,422.4 L416,464 Z M224,256 C294.7,256 352,198.7 352,128 C352,57.3 294.7,0 224,0 C153.3,0 96,57.3 96,128 C96,198.7 153.3,256 224,256 Z M224,32 C276.9,32 320,75.1 320,128 C320,180.9 276.9,224 224,224 C171.1,224 128,180.9 128,128 C128,75.1 171.1,32 224,32 Z" id="Shape"></path> </g> </g> </svg> </span> <span style="padding-right: 20px;">Meu Perfil</span> </a> </div> <div style="position: relative; margin: 20px 0;"> <a href="https://sandbox.id.nexaas.com/applications/sign_out?access_token=55fe5e610e2dd0e198da8c912101c9de4f3382e3ccb058b17e13dfda8c738f8a" style="display: flex; align-items: center; color: #47494C; text-decoration: none;"> <span style="width: 54px; height: 16px; margin-left: 20px; margin-right: 10px; text-align: center; color: inherit"> <svg width="16.09px" height="16px" viewBox="0 0 513 384"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="sign-out-light" fill="#47494C" fill-rule="nonzero"> <path d="M48,0 L180,0 C186.6,0 192,5.4 192,12 L192,20 C192,26.6 186.6,32 180,32 L48,32 C39.2,32 32,39.2 32,48 L32,336 C32,344.8 39.2,352 48,352 L180,352 C186.6,352 192,357.4 192,364 L192,372 C192,378.6 186.6,384 180,384 L48,384 C21.5,384 0,362.5 0,336 L0,48 C0,21.5 21.5,0 48,0 Z M327,19.5 L319.9,26.6 C315.2,31.3 315.2,38.9 319.9,43.6 L451.9,175 L172,175 C165.4,175 160,180.4 160,187 L160,197 C160,203.6 165.4,209 172,209 L451.9,209 L320,340.4 C315.3,345.1 315.3,352.7 320,357.4 L327.1,364.5 C331.8,369.2 339.4,369.2 344.1,364.5 L508.6,200.5 C513.3,195.8 513.3,188.2 508.6,183.5 L344,19.5 C339.3,14.8 331.7,14.8 327,19.5 Z" id="Shape"></path> </g> </g> </svg> </span> <span style="padding-right: 20px;">Sair de Test application</span> </a> </div> </div> </div>';

            container.innerHTML = html;

            document.addEventListener('click', function(event) {
              var button = document.getElementById('nexaas_id-dropdown-button');
              var dropdownMenu = button.nextElementSibling;

              if ( event.target === button || event.target.parentElement === button ) {
                var newStatus = dropdownMenu.style.display == "none" ? "block" : "none";
                dropdownMenu.style.display = newStatus;
              } else if ( event.target.offsetParent === dropdownMenu) {
                return;
              } else {
                dropdownMenu.style.display = 'none';
              }
            });
          }
        }

          document.addEventListener(
            "DOMContentLoaded",
            function() { initWidget(NexaasID) }
          );
    http_version: 
  recorded_at: Tue, 30 Oct 2018 18:41:41 GMT
recorded_with: VCR 2.9.3
